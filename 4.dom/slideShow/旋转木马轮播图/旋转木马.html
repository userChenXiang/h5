<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>旋转木马轮播图</title>
    <link rel="stylesheet" href="css/css.css" />
</head>

<body>

    <div class="wrap" id="wrap">
        <div class="slide" id="slide">
            <ul>
                <!--五张图片-->
                <li>
                    <a href="#">
                        <img src="images/slidepic1.jpg" alt="" />
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/slidepic2.jpg" alt="" />
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/slidepic3.jpg" alt="" />
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/slidepic4.jpg" alt="" />
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/slidepic5.jpg" alt="" />
                    </a>
                </li>
            </ul>
            <!--左右切换按钮-->
            <div class="arrow" id="arrow">
                <a href="javascript:;" class="prev"></a>
                <a href="javascript:;" class="next"></a>
            </div>
        </div>
    </div>
    <script>
        window.onload=function(){
            // 一个数组用于存储所有图片的样式
             var arr = [
                {   //  1
                    width: 400,
                    top: 70,
                    left: 50,
                    opacity: 20,
                    z: 2
                },
                {  // 2
                    width: 600,
                    top: 120,
                    left: 0,
                    opacity: 80,
                    z: 3
                },
                {   // 3
                    width: 800,
                    top: 100,
                    left: 200,
                    opacity: 100,
                    z: 4
                },
                {  // 4
                    width: 600,
                    top: 120,
                    left: 600,
                    opacity: 80,
                    z: 3
                },
                {   //5
                    width: 400,
                    top: 70,
                    left: 750,
                    opacity: 20,
                    z: 2
                }
            ];
            // 获取相关元素
            var wrap=document.getElementById('wrap')
            var slide=document.getElementById('slide');
            var liArr=slide.children[0].children;
            var arrow=slide.children[1];
            var arrowchild=arrow.children;
            // 开闭原则控制节流
            var flag=true;
            // 让图片显示在页面中
            // for(var i=0;i<liArr.length;i++){
            //     liArr[i].style.width=arr[i].width+'px';
            //     liArr[i].style.top = arr[i].top + 'px';
            //     liArr[i].style.left = arr[i].left + 'px';
            //     liArr[i].style.opacity = arr[i].opacity/100;
            //     liArr[i].style.zIndex=arr[i].z;
            // }
            move();
            // 移上显示，移出隐藏
            slide.onmouseenter=function(){
                arrow.style.opacity=1;
            }
            slide.onmouseleave = function () {
                arrow.style.opacity = 0;
            }
            // 给左右按钮绑定事件和
            for(var k in arrowchild){
                arrowchild[k].onclick=function(){
                    if(this.className==="prev"){
                        // 上一个
                        // 删除第一个然后再添加到最后
                          arr.push(arr.shift());
                        move();
                    }else{
                        // 下一个
                        arr.unshift(arr.pop());
                        move();
                    }
                }
            }
            function move(){
                 for (var i = 0; i < liArr.length; i++) {
                    liArr[i].style.width = arr[i].width + 'px';
                    liArr[i].style.top = arr[i].top + 'px';
                    liArr[i].style.left = arr[i].left + 'px';
                    liArr[i].style.opacity = arr[i].opacity / 100;
                    liArr[i].style.zIndex = arr[i].z;
                }
            }
        }
    </script>
</body>

</html>